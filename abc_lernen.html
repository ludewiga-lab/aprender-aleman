<!DOCTYPE html>
<html lang="de">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <style>
        .card-abc { 
            width: 140px; height: 160px; 
            transition: all 0.3s ease;
        }
        .abc-letter { font-size: 80px; font-weight: bold; color: #2980b9; }
        .abc-info { display: none; text-align: center; } /* Escondido por defecto */
        .abc-emoji { font-size: 60px; display: block; }
        .abc-word { font-size: 18px; color: #555; font-weight: bold; }

        /* Cuando la tarjeta est√° activa o seleccionada */
        .show-info .abc-letter { font-size: 40px; }
        .show-info .abc-info { display: block; }
    </style>
</head>
<body>
    <a href="index.html" class="btn-home">üè†</a>
    <h1>ABC lernen üî§</h1>
    
    <button class="btn-learn" onclick="reproducirTodo()"‚ñ∂Ô∏è ABC Lied (Autoplay)</button>

    <div class="container" id="tablero"></div>

    <script>
        const alfabeto = [
            {l: 'A', e: 'üçé', w: 'Apfel'}, {l: 'B', e: 'üêª', w: 'B√§r'}, {l: 'C', e: 'ü§°', w: 'Clown'},
            {l: 'D', e: 'üêâ', w: 'Drache'}, {l: 'E', e: 'üêò', w: 'Elefant'}, {l: 'F', e: 'üêü', w: 'Fisch'},
            {l: 'G', e: 'ü¶í', w: 'Giraffe'}, {l: 'H', e: 'üè†', w: 'Haus'}, {l: 'I', e: 'ü¶î', w: 'Igel'},
            {l: 'J', e: 'üêÜ', w: 'Jaguar'}, {l: 'K', e: 'üê±', w: 'Katze'}, {l: 'L', e: 'ü¶Å', w: 'L√∂we'},
            {l: 'M', e: 'üê≠', w: 'Maus'}, {l: 'N', e: 'ü¶è', w: 'Nashorn'}, {l: 'O', e: 'üçä', w: 'Orange'},
            {l: 'P', e: 'üêß', w: 'Pinguin'}, {l: 'Q', e: 'ü™º', w: 'Qualle'}, {l: 'R', e: 'üöÄ', w: 'Rakete'},
            {l: 'S', e: '‚òÄÔ∏è', w: 'Sonne'}, {l: 'T', e: 'üêØ', w: 'Tiger'}, {l: 'U', e: '‚åö', w: 'Uhr'},
            {l: 'V', e: 'üê¶', w: 'Vogel'}, {l: 'W', e: 'üêã', w: 'Wal'}, {l: 'X', e: 'üéπ', w: 'Xylophon'},
            {l: 'Y', e: 'üêÇ', w: 'Yak'}, {l: 'Z', e: 'ü¶ì', w: 'Zebra'}
        ];

        function decir(texto, callback) {
            window.speechSynthesis.cancel();
            const msg = new SpeechSynthesisUtterance(texto);
            msg.lang = 'de-DE';
            if (callback) msg.onend = callback;
            window.speechSynthesis.speak(msg);
        }

        function cargarTablero() {
            const tablero = document.getElementById('tablero');
            tablero.innerHTML = ""; 
            alfabeto.forEach((item, i) => {
                const div = document.createElement('div');
                div.className = 'card card-abc';
                div.id = 'abc-' + i;
                div.innerHTML = `
                    <div class="abc-letter">${item.l}</div>
                    <div class="abc-info">
                        <span class="abc-emoji">${item.e}</span>
                        <span class="abc-word">${item.w}</span>
                    </div>
                `;
                
                div.onclick = () => {
                    // Quitar info de otros y mostrar en este
                    document.querySelectorAll('.card-abc').forEach(c => c.classList.remove('show-info'));
                    div.classList.add('show-info');
                    decir(item.l + " wie " + item.w);
                };
                tablero.appendChild(div);
            });
        }

        async function reproducirTodo() {
            for (let i = 0; i < alfabeto.length; i++) {
                const card = document.getElementById('abc-' + i);
                
                // Limpiar resaltados anteriores
                document.querySelectorAll('.card-abc').forEach(c => {
                    c.classList.remove('show-info');
                    c.classList.remove('highlight');
                });

                card.scrollIntoView({ behavior: 'smooth', block: 'center' });
                card.classList.add('show-info');
                card.classList.add('highlight');
                
                await new Promise(res => {
                    decir(alfabeto[i].l + " wie " + alfabeto[i].w, () => {
                        setTimeout(() => { 
                            res(); 
                        }, 500); 
                    });
                });
            }
        }

        window.onload = cargarTablero;
    </script>
</body>

</html>
